/* ============================================================
   CASCADE LAYERS — declared in priority order (last = highest)
   reset → tokens → typography → layout → elements → components → overrides
============================================================ */

@layer reset, tokens, typography, layout, elements, components, overrides;

/* ============================================================
   TOKENS
============================================================ */

@layer tokens {
  :root {
    /* Palette */
    --navy: #080818;
    --navy-2: #0e0e24;
    --navy-3: #14143a;
    --navy-card: #0f0f28;
    --navy-border: rgba(255, 255, 255, 0.08);

    /* Gradient — cyan → pink/magenta (brand DNA) */
    --grad-start: #00dbde;
    --grad-end: #fc00ff;
    --gradient: linear-gradient(
      to right,
      var(--grad-start) 0%,
      var(--grad-end) 100%
    );

    /* Text */
    --text-primary: #f0f0ff;
    --text-secondary: #9090b8;
    --text-muted: #8484aa;

    /* Accents */
    --accent-cyan: #00dbde;
    --accent-pink: #fc00ff;
    --accent-glow: rgba(252, 0, 255, 0.18);

    /* Alpha variants — semi-transparent color uses */
    --accent-cyan-subtle: rgba(0, 219, 222, 0.07); /* hero bg glow */
    --accent-pink-subtle: rgba(252, 0, 255, 0.07); /* hero bg glow */
    --accent-cyan-border: rgba(0, 219, 222, 0.3); /* pillar hover border */
    --navy-overlay: rgba(8, 8, 24, 0.7); /* nav backdrop */
    --navy-overlay-solid: rgba(8, 8, 24, 0.96); /* mobile nav */
    --surface-hover: rgba(255, 255, 255, 0.02); /* very subtle hover bg */
    --surface-hover-md: rgba(255, 255, 255, 0.04); /* slightly visible hover */
    --border-hover: rgba(255, 255, 255, 0.2); /* ghost btn hover border */
    --border-hover-strong: rgba(255, 255, 255, 0.25); /* toggle hover border */

    /* Shadows */
    --shadow-sm: 0 1px 24px rgba(0, 0, 0, 0.4); /* nav scroll */
    --shadow-lg: 0 12px 40px rgba(0, 0, 0, 0.4); /* card lift */

    /* Spacing scale */
    --space-xs: 0.5rem; /*  8px */
    --space-sm: 1rem; /* 16px */
    --space-sm-plus: 1.5rem; /* 24px — component gaps */
    --space-md: 2rem; /* 32px */
    --space-lg: 4rem; /* 64px */
    --space-xl: 8rem; /* 128px */

    /* Font families */
    --font-display: "Exo", sans-serif;
    --font-body: "Exo", "Helvetica Neue", Helvetica, Arial, sans-serif;

    /* Font size scale */
    --font-size-xs: 0.6875rem; /* 11px — tag labels, marker arrows */
    --font-size-sm: 0.75rem; /* 12px — eyebrows, overlines, small labels */
    --font-size-ui: 0.8125rem; /* 13px — UI chrome: toggles, footer copy */
    --font-size-sub: 0.875rem; /* 14px — secondary UI: footer links & tagline */
    --font-size-base: 0.9375rem; /* 15px — primary body text */
    --font-size-md: 1.0625rem; /* 17px — lead text, card body */
    --font-size-lg: 1.125rem; /* 18px — component headings */
    --font-size-xl: 1.375rem; /* 22px — nav wordmark, case-study title */
    --font-size-2xl: 1.75rem; /* 28px — footer name, pillar icon */

    /* Letter spacing scale */
    --tracking-tighter: -0.02em; /* display name */
    --tracking-tight: -0.01em; /* section titles, wordmark */
    --tracking-normal: 0.01em; /* default slight open */
    --tracking-wide: 0.06em; /* hero title, uppercase tags */
    --tracking-wider: 0.1em; /* org labels, col titles */
    --tracking-widest: 0.12em; /* section eyebrow */

    /* Line height scale */
    --leading-none: 1; /* icon glyphs */
    --leading-tight: 1.2; /* component title headings */
    --leading-snug: 1.6; /* compact body text */
    --leading-normal: 1.65; /* base body */
    --leading-relaxed: 1.7; /* secondary body paragraphs */
    --leading-loose: 1.75; /* statement & lead paragraphs */

    /* Radius */
    --radius-sm: 6px;
    --radius-md: 12px;
    --radius-lg: 20px;
    --radius-pill: 100px;

    /* Motion */
    --ease-out: cubic-bezier(0.22, 1, 0.36, 1);
    --duration: 0.3s; /* default — buttons, borders, colours */
    --duration-medium: 0.4s; /* nav wordmark, toggle icon */
    --duration-slow: 0.5s; /* body bg, gradient-text transitions */
  }
} /* end @layer tokens */

/* ============================================================
   RESET
============================================================ */

@layer reset {
  *,
  *::before,
  *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  html {
    font-size: 16px;
    scroll-behavior: smooth;
    -webkit-text-size-adjust: 100%;
  }

  body {
    font-family: var(--font-body);
    background-color: var(--navy);
    color: var(--text-primary);
    line-height: var(--leading-normal);
    min-height: 100vh;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    transition: background-color var(--duration-slow) var(--ease-out);
  }

  img,
  svg {
    display: block;
    max-width: 100%;
  }

  ul {
    list-style: none;
  }

  button {
    font-family: inherit;
    cursor: pointer;
    border: none;
    background: none;
  }

  a {
    color: inherit;
    text-decoration: none;
  }

  /* Focus ring — accessible, on-brand */
  :focus-visible {
    outline: 2px solid var(--accent-cyan);
    outline-offset: 3px;
    border-radius: var(--radius-sm);
  }
} /* end @layer reset */

/* ============================================================
   TYPOGRAPHY
============================================================ */

@layer typography {
  .gradient-text {
    background-image: var(--gradient);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    transition: background-image var(--duration-slow) var(--ease-out);
  }

  /* ----- Bold uppercase label (eyebrow / overline pattern) ----- */
  /* Utility class: .label--overline
     Also applied via component selectors for backward compat */
  .label--overline,
  .section__eyebrow,
  .case-study__org,
  .case-study__col-title {
    font-weight: 600;
    text-transform: uppercase;
  }

  /* ----- Medium uppercase label (tag / subtitle pattern) ----- */
  /* Utility class: .label--tag
     Also applied via component selectors for backward compat */
  .label--tag,
  .hero__title,
  .case-study__tag {
    font-weight: 500;
    letter-spacing: var(--tracking-wide);
    text-transform: uppercase;
  }

  /* ----- Primary body text ----- */
  /* Utility class: .text--body
     Also applied via component selectors for backward compat */
  .text--body,
  .pillar__body,
  .case-study__teaser {
    font-size: var(--font-size-base);
    color: var(--text-secondary);
  }
} /* end @layer typography */

/* ============================================================
   LAYOUT
============================================================ */

@layer layout {
  .container {
    width: 100%;
    max-width: 1100px;
    margin-inline: auto;
    padding-inline: var(--space-md);
  }

  /* ----- Sections — shared structure ----- */

  .section {
    padding-block: var(--space-xl);
  }

  .section + .section {
    border-top: 1px solid var(--navy-border);
  }

  .section__header {
    max-width: 640px;
    margin-bottom: var(--space-lg);
  }

  .section__eyebrow {
    font-size: var(--font-size-sm);
    letter-spacing: var(--tracking-widest);
    color: var(--accent-cyan);
    margin-bottom: 0.75rem;
  }

  .section__title {
    font-family: var(--font-display);
    font-size: clamp(2rem, 5vw, 3.25rem);
    line-height: 1.05;
    letter-spacing: var(--tracking-tight);
    color: var(--text-primary);
    margin-bottom: 1rem;
  }

  .section__subtitle {
    font-size: var(--font-size-md);
    color: var(--text-secondary);
    line-height: var(--leading-relaxed);
    max-width: 52ch;
  }

  /* Alternating section backgrounds */
  .philosophy {
    background-color: var(--navy-2);
  }

  .impact {
    background-color: var(--navy);
  }
} /* end @layer layout */

/* ============================================================
   ELEMENTS
============================================================ */

@layer elements {
  /* ----- Buttons ----- */

  .btn {
    display: inline-flex;
    align-items: center;
    gap: var(--space-xs);
    padding: 0.75rem 1.75rem;
    border-radius: var(--radius-sm);
    font-family: var(--font-body);
    font-size: var(--font-size-base);
    font-weight: 500;
    letter-spacing: var(--tracking-normal);
    transition:
      transform var(--duration) var(--ease-out),
      box-shadow var(--duration) var(--ease-out),
      opacity var(--duration);
    cursor: pointer;
  }

  .btn--primary {
    background: transparent;
    color: var(--text-primary);
    border: 2px solid transparent;
    position: relative;
  }

  .btn--primary::before {
    content: "";
    position: absolute;
    inset: -2px;
    border-radius: calc(var(--radius-sm) + 2px);
    padding: 2px;
    background: var(--gradient);
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
    opacity: 0.7;
    transition: opacity var(--duration) var(--ease-out);
  }

  .btn--primary:hover::before,
  .btn--primary:focus-visible::before {
    opacity: 1;
  }

  .btn--primary:hover,
  .btn--primary:focus-visible {
    transform: translateY(-2px);
    box-shadow: 0 6px 28px var(--accent-glow);
  }

  .btn--ghost {
    border: 1px solid var(--navy-border);
    color: var(--text-secondary);
    background: transparent;
  }

  .btn--ghost:hover,
  .btn--ghost:focus-visible {
    border-color: var(--border-hover);
    color: var(--text-primary);
    transform: translateY(-2px);
  }

  /* ----- Rainbow Toggle ----- */

  .rainbow-toggle {
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.45rem 1rem;
    border-radius: var(--radius-pill);
    border: 1px solid var(--navy-border);
    color: var(--text-secondary);
    font-size: var(--font-size-ui);
    font-weight: 500;
    letter-spacing: 0.03em;
    transition:
      border-color var(--duration),
      color var(--duration),
      background-color var(--duration);
    background: transparent;
  }

  .rainbow-toggle:hover,
  .rainbow-toggle[aria-pressed="true"] {
    border-color: var(--border-hover-strong);
    color: var(--text-primary);
    background: var(--surface-hover-md);
  }

  .rainbow-toggle__icon {
    font-size: var(--font-size-lg);
    line-height: var(--leading-none);
    transition: transform var(--duration-medium) var(--ease-out);
  }

  .rainbow-toggle:hover .rainbow-toggle__icon,
  .rainbow-toggle[aria-pressed="true"] .rainbow-toggle__icon {
    transform: rotate(20deg) scale(1.15);
  }

  .rainbow-toggle--sm {
    font-size: var(--font-size-sm);
    padding: 0.35rem 0.85rem;
  }
} /* end @layer elements */

/* ============================================================
   COMPONENTS
============================================================ */

@layer components {
  /* ----- Nav ----- */

  .nav {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 100;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.25rem var(--space-md);
    background: var(--navy-overlay);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-bottom: 1px solid transparent;
    transition: border-color var(--duration);
  }

  .nav.scrolled {
    border-color: var(--navy-border);
    box-shadow: var(--shadow-sm);
  }

  .nav__wordmark {
    font-family: var(--font-display);
    font-size: var(--font-size-xl);
    letter-spacing: var(--tracking-tight);
    text-decoration: none;
    opacity: 0;
    transform: translateY(-6px);
    pointer-events: none;
    transition:
      opacity var(--duration-medium) var(--ease-out),
      transform var(--duration-medium) var(--ease-out);
  }

  .nav__wordmark .gradient-text {
    font-size: inherit;
    font-family: inherit;
  }

  .nav.name-visible .nav__wordmark {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
  }

  /* ----- Hero ----- */

  .hero {
    min-height: 100svh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding-top: 6rem;
    padding-bottom: var(--space-xl);
    position: relative;
    overflow: hidden;
  }

  /* Subtle deep-space glow behind hero */
  .hero::before {
    content: "";
    position: absolute;
    inset: 0;
    background:
      radial-gradient(
        ellipse 60% 50% at 20% 40%,
        var(--accent-cyan-subtle) 0%,
        transparent 70%
      ),
      radial-gradient(
        ellipse 50% 60% at 80% 60%,
        var(--accent-pink-subtle) 0%,
        transparent 70%
      );
    pointer-events: none;
  }

  .hero__inner {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-md);
    align-items: center;
  }

  @media (min-width: 768px) {
    .hero__inner {
      grid-template-columns: minmax(min-content, 300px) 1fr;
      gap: var(--space-lg);
    }
  }

  /* Big name */
  .hero__name {
    font-family: var(--font-display);
    font-size: clamp(4rem, 13vw, 10rem);
    line-height: 0.9;
    letter-spacing: var(--tracking-tighter);
    margin-bottom: 0.2em;
  }

  /* Right-side content */
  .hero__content {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm-plus);
  }

  .hero__title {
    font-size: clamp(0.8125rem, 2vw, 0.9375rem);
    color: var(--text-secondary);
  }

  .hero__title-sep {
    color: var(--text-muted);
  }

  .hero__statement {
    font-size: clamp(1rem, 2.2vw, 1.1875rem);
    color: var(--text-secondary);
    line-height: var(--leading-loose);
    max-width: 48ch;
  }

  .hero__cta-group {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-sm);
  }

  /* Scroll hint — the little line below the hero */
  .hero__scroll-hint {
    position: absolute;
    bottom: 2.5rem;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-xs);
    opacity: 0.35;
  }

  .hero__scroll-line {
    display: block;
    width: 1px;
    height: 4rem;
    background: linear-gradient(to bottom, transparent, var(--text-secondary));
    animation: scrollPulse 2.2s var(--ease-out) infinite;
    animation-play-state: paused;
  }

  .hero__scroll-line.playing,
  .lets-talk__glyph.playing {
    animation-play-state: running;
  }

  @keyframes scrollPulse {
    0% {
      transform: scaleY(0);
      transform-origin: top;
      opacity: 0;
    }
    40% {
      transform: scaleY(1);
      transform-origin: top;
      opacity: 1;
    }
    60% {
      transform: scaleY(1);
      transform-origin: bottom;
      opacity: 1;
    }
    100% {
      transform: scaleY(0);
      transform-origin: bottom;
      opacity: 0;
    }
  }

  /* ----- Philosophy Pillars ----- */

  .pillars {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-sm-plus);
  }

  @media (min-width: 640px) {
    .pillars {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .pillars {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  .pillar {
    background: var(--navy-card);
    border: 1px solid var(--navy-border);
    border-radius: var(--radius-md);
    padding: 2rem 1.75rem;
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    transition:
      border-color var(--duration),
      transform var(--duration) var(--ease-out),
      box-shadow var(--duration) var(--ease-out);
  }

  .pillar:hover {
    border-color: var(--accent-cyan-border);
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
  }

  .pillar__icon {
    font-size: var(--font-size-2xl);
    line-height: var(--leading-none);
  }

  .pillar__title {
    font-family: var(--font-display);
    font-size: var(--font-size-lg);
    letter-spacing: var(--tracking-normal);
    color: var(--text-primary);
    line-height: var(--leading-tight);
  }

  .pillar__body {
    line-height: var(--leading-relaxed);
    flex: 1;
  }

  /* ----- Case Studies (Accordion) ----- */

  .case-studies {
    display: flex;
    flex-direction: column;
    gap: 1px;
    border: 1px solid var(--navy-border);
    border-radius: var(--radius-lg);
    overflow: hidden;
  }

  /* Individual case study wrapper */
  .case-study {
    background: var(--navy-card);
    transition: background-color var(--duration);
  }

  .case-study.is-open {
    background: var(--navy-3);
  }

  /* Trigger button */
  .case-study__trigger {
    width: 100%;
    text-align: left;
    padding: 2rem 2.25rem;
    display: grid;
    grid-template-columns: 1fr auto;
    grid-template-rows: auto auto auto;
    grid-template-areas:
      "meta     chevron"
      "title    chevron"
      "teaser   chevron";
    gap: 0.4rem var(--space-sm-plus);
    align-items: start;
    cursor: pointer;
    transition: background-color var(--duration);
    border-bottom: 1px solid var(--navy-border);
    position: relative;
  }

  .case-study__trigger:hover {
    background: var(--surface-hover);
  }

  .case-study.is-open .case-study__trigger {
    border-bottom-color: var(--navy-border);
  }

  .case-study__meta {
    grid-area: meta;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex-wrap: wrap;
  }

  .case-study__org {
    font-size: var(--font-size-sm);
    letter-spacing: var(--tracking-wider);
    color: var(--accent-cyan);
  }

  .case-study__tag {
    font-size: var(--font-size-xs);
    color: var(--text-muted);
    background: var(--surface-hover-md);
    border: 1px solid var(--navy-border);
    padding: 0.2em 0.6em;
    border-radius: var(--radius-pill);
  }

  .case-study__title {
    grid-area: title;
    font-family: var(--font-display);
    font-size: clamp(var(--font-size-lg), 2.5vw, var(--font-size-xl));
    font-weight: 400;
    letter-spacing: var(--tracking-normal);
    color: var(--text-primary);
    line-height: var(--leading-tight);
    transition: color var(--duration);
  }

  .case-study__trigger:hover .case-study__title,
  .case-study.is-open .case-study__title {
    background-image: var(--gradient);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  .case-study__teaser {
    grid-area: teaser;
    line-height: var(--leading-snug);
    max-width: 66ch;
  }

  /* Chevron arrow */
  .case-study__chevron {
    grid-area: chevron;
    align-self: center;
    width: 1.25rem;
    height: 1.25rem;
    border-right: 2px solid var(--text-muted);
    border-bottom: 2px solid var(--text-muted);
    border-radius: 1px;
    transform: rotate(45deg);
    transition:
      transform var(--duration) var(--ease-out),
      border-color var(--duration);
    margin-top: 0.25rem;
    flex-shrink: 0;
  }

  .case-study.is-open .case-study__chevron {
    transform: rotate(-135deg);
    border-color: var(--accent-cyan);
  }

  /* Expanded body */
  .case-study__body {
    padding: 0 2.25rem 2.5rem;
    animation: expandIn var(--duration-medium) var(--ease-out);
  }

  .case-study__body[hidden] {
    display: none;
  }

  @keyframes expandIn {
    from {
      opacity: 0;
      transform: translateY(-8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .case-study__grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-md);
    padding-top: var(--space-sm-plus);
    border-top: 1px solid var(--navy-border);
  }

  @media (min-width: 640px) {
    .case-study__grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 960px) {
    .case-study__grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  .case-study__col-title {
    font-size: var(--font-size-xs);
    letter-spacing: var(--tracking-wider);
    color: var(--accent-pink);
    margin-bottom: 0.65rem;
  }

  .case-study__col p {
    font-size: var(--font-size-base);
    color: var(--text-secondary);
    line-height: var(--leading-relaxed);
  }

  .case-study__list {
    display: flex;
    flex-direction: column;
    gap: 0.4rem;
  }

  .case-study__list li {
    font-size: var(--font-size-base);
    color: var(--text-secondary);
    line-height: var(--leading-snug);
    padding-left: 1.1rem;
    position: relative;
  }

  .case-study__list li::before {
    content: "→";
    position: absolute;
    left: 0;
    color: var(--accent-cyan);
    font-size: var(--font-size-sm);
    top: 0.2em;
  }

  /* ----- Let's Talk ----- */

  .lets-talk {
    background-color: var(--navy-2);
  }

  .lets-talk__inner {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-lg);
    align-items: center;
  }

  @media (min-width: 768px) {
    .lets-talk__inner {
      grid-template-columns: 1fr auto;
      gap: var(--space-xl);
    }
  }

  .lets-talk__content {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm-plus);
    max-width: 560px;
  }

  .lets-talk__body {
    font-size: var(--font-size-md);
    color: var(--text-secondary);
    line-height: var(--leading-loose);
  }

  .lets-talk__actions {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-sm);
    padding-top: var(--space-xs);
  }

  .lets-talk__aside {
    display: none;
  }

  @media (min-width: 768px) {
    .lets-talk__aside {
      display: flex;
      align-items: center;
      justify-content: center;
    }
  }

  .lets-talk__glyph {
    font-size: clamp(6rem, 12vw, 10rem);
    line-height: var(--leading-none);
    user-select: none;
    opacity: 0.6;
    animation: glyphSpin 18s linear infinite;
    animation-play-state: paused;
  }

  @keyframes glyphSpin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  /* ----- Footer ----- */

  .footer {
    background-color: var(--navy);
    border-top: 1px solid var(--navy-border);
    padding-block: var(--space-lg);
  }

  .footer__inner {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-md);
  }

  @media (min-width: 768px) {
    .footer__inner {
      grid-template-columns: 1fr auto;
      align-items: start;
    }
  }

  .footer__brand {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
  }

  .footer__name {
    font-family: var(--font-display);
    font-size: var(--font-size-2xl);
    letter-spacing: var(--tracking-tight);
  }

  .footer__tagline {
    font-size: var(--font-size-sub);
    color: var(--text-muted);
    line-height: 1.5;
  }

  .footer__links {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-sm-plus);
    align-items: center;
  }

  .footer__link {
    display: inline-flex;
    align-items: center;
    gap: var(--space-xs);
    font-size: var(--font-size-sub);
    color: var(--text-secondary);
    transition: color var(--duration);
  }

  .footer__link:hover {
    color: var(--text-primary);
  }

  .footer__link-icon {
    width: 1.125rem;
    height: 1.125rem;
    flex-shrink: 0;
  }

  .footer__bottom {
    grid-column: 1 / -1;
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: var(--space-sm);
    padding-top: var(--space-md);
    border-top: 1px solid var(--navy-border);
  }

  .footer__copy {
    font-size: var(--font-size-ui);
    color: var(--text-muted);
  }
} /* end @layer components */

/* ============================================================
   OVERRIDES — Rainbow Mode, Reduced Motion, Mobile
============================================================ */

@layer overrides {
  /* ----- Rainbow Mode ----- */

  body.rainbow-mode {
    --navy: #05051a;
    --navy-2: #0a0520;
    --navy-3: #0f0a2e;
    --navy-card: #090520;
    --grad-start: #ff0080;
    --grad-end: #7928ca;
    --accent-cyan: #0affef;
    --accent-pink: #ff6ec7;
    --accent-glow: rgba(121, 40, 202, 0.25);

    /* Alpha variants — re-derived for rainbow palette */
    --accent-cyan-subtle: rgba(10, 255, 239, 0.07);
    --accent-pink-subtle: rgba(255, 110, 199, 0.07);
    --accent-cyan-border: rgba(10, 255, 239, 0.3);
    --navy-overlay: rgba(5, 5, 26, 0.7);
    --navy-overlay-solid: rgba(5, 5, 26, 0.96);

    /* Rainbow spectrum — defined once, referenced below */
    --rainbow-gradient: linear-gradient(
      to right,
      #ff0080 0%,
      #ff8c00 20%,
      #ffe600 40%,
      #00ff88 60%,
      #00c6ff 80%,
      #7928ca 100%
    );
  }

  body.rainbow-mode .hero__name .gradient-text,
  body.rainbow-mode .lets-talk__glyph {
    background-image: var(--rainbow-gradient);
  }

  body.rainbow-mode .footer__name {
    background-image: var(--rainbow-gradient);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    display: inline-block;
    transition: none;
  }

  body.rainbow-mode .pillar {
    border-color: transparent;
    background-image:
      linear-gradient(var(--navy-card), var(--navy-card)),
      var(--rainbow-gradient);
    background-origin: border-box;
    background-clip: padding-box, border-box;
    border: 1.5px solid transparent;
  }

  body.rainbow-mode .btn--primary::before {
    background: var(--rainbow-gradient);
  }

  /* ----- Reduced Motion ----- */

  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }

    html {
      scroll-behavior: auto;
    }

    .lets-talk__glyph,
    .lets-talk__glyph.playing {
      animation: none;
    }
  }

  /* ----- Mobile ----- */

  @media (max-width: 767px) {
    .nav {
      backdrop-filter: none;
      -webkit-backdrop-filter: none;
      background: var(--navy-overlay-solid);
    }

    .hero {
      padding-top: 5rem;
      padding-bottom: var(--space-lg);
    }

    .hero__inner {
      grid-template-columns: 1fr;
    }

    .hero__name {
      font-size: clamp(4.5rem, 22vw, 8rem);
    }

    .hero__scroll-hint {
      display: none;
    }

    .case-study__trigger {
      padding: var(--space-sm-plus);
    }

    .case-study__body {
      padding: 0 var(--space-sm-plus) var(--space-md);
    }

    .section {
      padding-block: var(--space-lg);
    }
  }
} /* end @layer overrides */
